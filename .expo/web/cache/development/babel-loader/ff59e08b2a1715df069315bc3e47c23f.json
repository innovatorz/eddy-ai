{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jamesdelacruz/EDI/eddy-ai/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Constants, Camera, FileSystem, Permissions, BarCodeScanner } from \"expo\";\nimport React from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Slider } from \"react-native-web/dist/index\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport GalleryScreen from \"./GalleryScreen\";\nimport isIPhoneX from \"react-native-is-iphonex\";\nimport { Ionicons, MaterialIcons, Foundation, MaterialCommunityIcons, Octicons } from \"@expo/vector-icons\";\nvar landmarkSize = 2;\nvar flashModeOrder = {\n  off: \"on\",\n  on: \"auto\",\n  auto: \"torch\",\n  torch: \"off\"\n};\nvar flashIcons = {\n  off: \"flash-off\",\n  on: \"flash-on\",\n  auto: \"flash-auto\",\n  torch: \"highlight\"\n};\nvar wbOrder = {\n  auto: \"sunny\",\n  sunny: \"cloudy\",\n  cloudy: \"shadow\",\n  shadow: \"fluorescent\",\n  fluorescent: \"incandescent\",\n  incandescent: \"auto\"\n};\nvar wbIcons = {\n  auto: \"wb-auto\",\n  sunny: \"wb-sunny\",\n  cloudy: \"wb-cloudy\",\n  shadow: \"beach-access\",\n  fluorescent: \"wb-iridescent\",\n  incandescent: \"wb-incandescent\"\n};\n\nvar CameraScreen = function (_React$Component) {\n  _inherits(CameraScreen, _React$Component);\n\n  var _super = _createSuper(CameraScreen);\n\n  function CameraScreen() {\n    var _this;\n\n    _classCallCheck(this, CameraScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      flash: \"off\",\n      zoom: 0,\n      autoFocus: \"on\",\n      type: \"back\",\n      whiteBalance: \"auto\",\n      ratio: \"16:9\",\n      ratios: [],\n      barcodeScanning: false,\n      faceDetecting: false,\n      faces: [],\n      newPhotos: false,\n      permissionsGranted: false,\n      pictureSize: undefined,\n      pictureSizes: [],\n      pictureSizeId: 0,\n      showGallery: false,\n      showMoreOptions: false\n    };\n\n    _this.getRatios = function _callee() {\n      var ratios;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this.camera.getSupportedRatios());\n\n            case 2:\n              ratios = _context.sent;\n              return _context.abrupt(\"return\", ratios);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.toggleView = function () {\n      return _this.setState({\n        showGallery: !_this.state.showGallery,\n        newPhotos: false\n      });\n    };\n\n    _this.toggleMoreOptions = function () {\n      return _this.setState({\n        showMoreOptions: !_this.state.showMoreOptions\n      });\n    };\n\n    _this.toggleFacing = function () {\n      return _this.setState({\n        type: _this.state.type === \"back\" ? \"front\" : \"back\"\n      });\n    };\n\n    _this.toggleFlash = function () {\n      return _this.setState({\n        flash: flashModeOrder[_this.state.flash]\n      });\n    };\n\n    _this.setRatio = function (ratio) {\n      return _this.setState({\n        ratio: ratio\n      });\n    };\n\n    _this.toggleWB = function () {\n      return _this.setState({\n        whiteBalance: wbOrder[_this.state.whiteBalance]\n      });\n    };\n\n    _this.toggleFocus = function () {\n      return _this.setState({\n        autoFocus: _this.state.autoFocus === \"on\" ? \"off\" : \"on\"\n      });\n    };\n\n    _this.zoomOut = function () {\n      return _this.setState({\n        zoom: _this.state.zoom - 0.1 < 0 ? 0 : _this.state.zoom - 0.1\n      });\n    };\n\n    _this.zoomIn = function () {\n      return _this.setState({\n        zoom: _this.state.zoom + 0.1 > 1 ? 1 : _this.state.zoom + 0.1\n      });\n    };\n\n    _this.setFocusDepth = function (depth) {\n      return _this.setState({\n        depth: depth\n      });\n    };\n\n    _this.toggleBarcodeScanning = function () {\n      return _this.setState({\n        barcodeScanning: !_this.state.barcodeScanning\n      });\n    };\n\n    _this.toggleFaceDetection = function () {\n      return _this.setState({\n        faceDetecting: !_this.state.faceDetecting\n      });\n    };\n\n    _this.takePicture = function () {\n      if (_this.camera) {\n        _this.camera.takePictureAsync({\n          onPictureSaved: _this.onPictureSaved\n        });\n      }\n    };\n\n    _this.handleMountError = function (_ref) {\n      var message = _ref.message;\n      return console.error(message);\n    };\n\n    _this.onPictureSaved = function _callee2(photo) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(FileSystem.moveAsync({\n                from: photo.uri,\n                to: FileSystem.documentDirectory + \"photos/\" + Date.now() + \".jpg\"\n              }));\n\n            case 2:\n              _this.setState({\n                newPhotos: true\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.onBarCodeScanned = function (code) {\n      _this.setState({\n        barcodeScanning: !_this.state.barcodeScanning\n      }, Alert.alert(\"Barcode found: \" + code.data));\n    };\n\n    _this.onFacesDetected = function (_ref2) {\n      var faces = _ref2.faces;\n      return _this.setState({\n        faces: faces\n      });\n    };\n\n    _this.onFaceDetectionError = function (state) {\n      return console.warn(\"Faces detection error:\", state);\n    };\n\n    _this.collectPictureSizes = function _callee3() {\n      var pictureSizes, pictureSizeId;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!_this.camera) {\n                _context3.next = 7;\n                break;\n              }\n\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(_this.camera.getAvailablePictureSizesAsync(_this.state.ratio));\n\n            case 3:\n              pictureSizes = _context3.sent;\n              pictureSizeId = 0;\n\n              if (Platform.OS === \"ios\") {\n                pictureSizeId = pictureSizes.indexOf(\"High\");\n              } else {\n                pictureSizeId = pictureSizes.length - 1;\n              }\n\n              _this.setState({\n                pictureSizes: pictureSizes,\n                pictureSizeId: pictureSizeId,\n                pictureSize: pictureSizes[pictureSizeId]\n              });\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.previousPictureSize = function () {\n      return _this.changePictureSize(1);\n    };\n\n    _this.nextPictureSize = function () {\n      return _this.changePictureSize(-1);\n    };\n\n    _this.changePictureSize = function (direction) {\n      var newId = _this.state.pictureSizeId + direction;\n      var length = _this.state.pictureSizes.length;\n\n      if (newId >= length) {\n        newId = 0;\n      } else if (newId < 0) {\n        newId = length - 1;\n      }\n\n      _this.setState({\n        pictureSize: _this.state.pictureSizes[newId],\n        pictureSizeId: newId\n      });\n    };\n\n    _this.renderFaces = function () {\n      return React.createElement(View, {\n        style: styles.facesContainer,\n        pointerEvents: \"none\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 5\n        }\n      }, _this.state.faces.map(_this.renderFace));\n    };\n\n    _this.renderLandmarks = function () {\n      return React.createElement(View, {\n        style: styles.facesContainer,\n        pointerEvents: \"none\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 5\n        }\n      }, _this.state.faces.map(_this.renderLandmarksOfFace));\n    };\n\n    _this.renderNoPermissions = function () {\n      return React.createElement(View, {\n        style: styles.noPermissions,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 5\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 7\n        }\n      }, \"Camera permissions not granted - cannot open camera preview.\"));\n    };\n\n    _this.renderTopBar = function () {\n      return React.createElement(View, {\n        style: styles.topBar,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 5\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.toggleButton,\n        onPress: _this.toggleFacing,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 7\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-reverse-camera\",\n        size: 32,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 9\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.toggleButton,\n        onPress: _this.toggleFlash,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 7\n        }\n      }, React.createElement(MaterialIcons, {\n        name: flashIcons[_this.state.flash],\n        size: 32,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 9\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.toggleButton,\n        onPress: _this.toggleWB,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 7\n        }\n      }, React.createElement(MaterialIcons, {\n        name: wbIcons[_this.state.whiteBalance],\n        size: 32,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 9\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.toggleButton,\n        onPress: _this.toggleFocus,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: [styles.autoFocusLabel, {\n          color: _this.state.autoFocus === \"on\" ? \"white\" : \"#6b6b6b\"\n        }],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 9\n        }\n      }, \"AF\")));\n    };\n\n    _this.renderBottomBar = function () {\n      return React.createElement(View, {\n        style: styles.bottomBar,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 5\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.bottomButton,\n        onPress: _this.toggleMoreOptions,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 7\n        }\n      }, React.createElement(Octicons, {\n        name: \"kebab-horizontal\",\n        size: 30,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 0.4\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 7\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: _this.takePicture,\n        style: {\n          alignSelf: \"center\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 9\n        }\n      }, React.createElement(Ionicons, {\n        name: \"ios-radio-button-on\",\n        size: 70,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }\n      }))), React.createElement(TouchableOpacity, {\n        style: styles.bottomButton,\n        onPress: _this.toggleView,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 9\n        }\n      }, React.createElement(Foundation, {\n        name: \"thumbnails\",\n        size: 30,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }\n      }), _this.state.newPhotos && React.createElement(View, {\n        style: styles.newPhotosDot,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 36\n        }\n      }))));\n    };\n\n    _this.renderMoreOptions = function () {\n      return React.createElement(View, {\n        style: styles.options,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        style: styles.detectors,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 7\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: _this.toggleFaceDetection,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 9\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"tag-faces\",\n        size: 32,\n        color: _this.state.faceDetecting ? \"white\" : \"#858585\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: _this.toggleBarcodeScanning,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 9\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"barcode-scan\",\n        size: 32,\n        color: _this.state.barcodeScanning ? \"white\" : \"#858585\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }\n      }))), React.createElement(View, {\n        style: styles.pictureSizeContainer,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.pictureQualityLabel,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 9\n        }\n      }, \"Picture quality\"), React.createElement(View, {\n        style: styles.pictureSizeChooser,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: _this.previousPictureSize,\n        style: {\n          padding: 6\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }\n      }, React.createElement(Ionicons, {\n        name: \"md-arrow-dropleft\",\n        size: 14,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: styles.pictureSizeLabel,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }\n      }, _this.state.pictureSize)), React.createElement(TouchableOpacity, {\n        onPress: _this.nextPictureSize,\n        style: {\n          padding: 6\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }\n      }, React.createElement(Ionicons, {\n        name: \"md-arrow-dropright\",\n        size: 14,\n        color: \"white\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }\n      })))));\n    };\n\n    _this.renderCamera = function () {\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 5\n        }\n      }, React.createElement(Camera, {\n        ref: function ref(_ref3) {\n          _this.camera = _ref3;\n        },\n        style: styles.camera,\n        onCameraReady: _this.collectPictureSizes,\n        type: _this.state.type,\n        flashMode: _this.state.flash,\n        autoFocus: _this.state.autoFocus,\n        zoom: _this.state.zoom,\n        whiteBalance: _this.state.whiteBalance,\n        ratio: _this.state.ratio,\n        pictureSize: _this.state.pictureSize,\n        onMountError: _this.handleMountError,\n        onFacesDetected: _this.state.faceDetecting ? _this.onFacesDetected : undefined,\n        onFaceDetectionError: _this.onFaceDetectionError,\n        barCodeScannerSettings: {\n          barCodeTypes: [BarCodeScanner.Constants.BarCodeType.qr, BarCodeScanner.Constants.BarCodeType.pdf417]\n        },\n        onBarCodeScanned: _this.state.barcodeScanning ? _this.onBarCodeScanned : undefined,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 7\n        }\n      }, _this.renderTopBar(), _this.renderBottomBar()), _this.state.faceDetecting && _this.renderFaces(), _this.state.faceDetecting && _this.renderLandmarks(), _this.state.showMoreOptions && _this.renderMoreOptions());\n    };\n\n    return _this;\n  }\n\n  _createClass(CameraScreen, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function componentWillMount$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n\n            case 2:\n              _await$Permissions$as = _context4.sent;\n              status = _await$Permissions$as.status;\n              this.setState({\n                permissionsGranted: status === \"granted\"\n              });\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      FileSystem.makeDirectoryAsync(FileSystem.documentDirectory + \"photos\").catch(function (e) {\n        console.log(e, \"Directory exists\");\n      });\n    }\n  }, {\n    key: \"renderGallery\",\n    value: function renderGallery() {\n      return React.createElement(GalleryScreen, {\n        onPress: this.toggleView.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 12\n        }\n      });\n    }\n  }, {\n    key: \"renderFace\",\n    value: function renderFace(_ref4) {\n      var bounds = _ref4.bounds,\n          faceID = _ref4.faceID,\n          rollAngle = _ref4.rollAngle,\n          yawAngle = _ref4.yawAngle;\n      return React.createElement(View, {\n        key: faceID,\n        transform: [{\n          perspective: 600\n        }, {\n          rotateZ: rollAngle.toFixed(0) + \"deg\"\n        }, {\n          rotateY: yawAngle.toFixed(0) + \"deg\"\n        }],\n        style: [styles.face, _objectSpread(_objectSpread({}, bounds.size), {}, {\n          left: bounds.origin.x,\n          top: bounds.origin.y\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.faceText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 9\n        }\n      }, \"ID: \", faceID), React.createElement(Text, {\n        style: styles.faceText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }\n      }, \"rollAngle: \", rollAngle.toFixed(0)), React.createElement(Text, {\n        style: styles.faceText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }, \"yawAngle: \", yawAngle.toFixed(0)));\n    }\n  }, {\n    key: \"renderLandmarksOfFace\",\n    value: function renderLandmarksOfFace(face) {\n      var _this2 = this;\n\n      var renderLandmark = function renderLandmark(position) {\n        return position && React.createElement(View, {\n          style: [styles.landmark, {\n            left: position.x - landmarkSize / 2,\n            top: position.y - landmarkSize / 2\n          }],\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 9\n          }\n        });\n      };\n\n      return React.createElement(View, {\n        key: \"landmarks-\" + face.faceID,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 7\n        }\n      }, renderLandmark(face.leftEyePosition), renderLandmark(face.rightEyePosition), renderLandmark(face.leftEarPosition), renderLandmark(face.rightEarPosition), renderLandmark(face.leftCheekPosition), renderLandmark(face.rightCheekPosition), renderLandmark(face.leftMouthPosition), renderLandmark(face.mouthPosition), renderLandmark(face.rightMouthPosition), renderLandmark(face.noseBasePosition), renderLandmark(face.bottomMouthPosition));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var cameraScreenContent = this.state.permissionsGranted ? this.renderCamera() : this.renderNoPermissions();\n      var content = this.state.showGallery ? this.renderGallery() : cameraScreenContent;\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 12\n        }\n      }, content);\n    }\n  }]);\n\n  return CameraScreen;\n}(React.Component);\n\nexport { CameraScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#000\"\n  },\n  camera: {\n    flex: 1,\n    justifyContent: \"space-between\"\n  },\n  topBar: {\n    flex: 0.2,\n    backgroundColor: \"transparent\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    paddingTop: Constants.statusBarHeight / 2\n  },\n  bottomBar: {\n    paddingBottom: isIPhoneX ? 25 : 5,\n    backgroundColor: \"transparent\",\n    alignSelf: \"flex-end\",\n    justifyContent: \"space-between\",\n    flex: 0.12,\n    flexDirection: \"row\"\n  },\n  noPermissions: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 10\n  },\n  gallery: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\"\n  },\n  toggleButton: {\n    flex: 0.25,\n    height: 40,\n    marginHorizontal: 2,\n    marginBottom: 10,\n    marginTop: 20,\n    padding: 5,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  autoFocusLabel: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  bottomButton: {\n    flex: 0.3,\n    height: 58,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  newPhotosDot: {\n    position: \"absolute\",\n    top: 0,\n    right: -5,\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: \"#4630EB\"\n  },\n  options: {\n    position: \"absolute\",\n    bottom: 80,\n    left: 30,\n    width: 200,\n    height: 160,\n    backgroundColor: \"#000000BA\",\n    borderRadius: 4,\n    padding: 10\n  },\n  detectors: {\n    flex: 0.5,\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  },\n  pictureQualityLabel: {\n    fontSize: 10,\n    marginVertical: 3,\n    color: \"white\"\n  },\n  pictureSizeContainer: {\n    flex: 0.5,\n    alignItems: \"center\",\n    paddingTop: 10\n  },\n  pictureSizeChooser: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    flexDirection: \"row\"\n  },\n  pictureSizeLabel: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  facesContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    left: 0,\n    top: 0\n  },\n  face: {\n    padding: 10,\n    borderWidth: 2,\n    borderRadius: 2,\n    position: \"absolute\",\n    borderColor: \"#FFD700\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\"\n  },\n  landmark: {\n    width: landmarkSize,\n    height: landmarkSize,\n    position: \"absolute\",\n    backgroundColor: \"red\"\n  },\n  faceText: {\n    color: \"#FFD700\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10,\n    backgroundColor: \"transparent\"\n  },\n  row: {\n    flexDirection: \"row\"\n  }\n});","map":{"version":3,"sources":["/Users/jamesdelacruz/EDI/eddy-ai/App.js"],"names":["Constants","Camera","FileSystem","Permissions","BarCodeScanner","React","Slider","GalleryScreen","isIPhoneX","Ionicons","MaterialIcons","Foundation","MaterialCommunityIcons","Octicons","landmarkSize","flashModeOrder","off","on","auto","torch","flashIcons","wbOrder","sunny","cloudy","shadow","fluorescent","incandescent","wbIcons","CameraScreen","state","flash","zoom","autoFocus","type","whiteBalance","ratio","ratios","barcodeScanning","faceDetecting","faces","newPhotos","permissionsGranted","pictureSize","undefined","pictureSizes","pictureSizeId","showGallery","showMoreOptions","getRatios","camera","getSupportedRatios","toggleView","setState","toggleMoreOptions","toggleFacing","toggleFlash","setRatio","toggleWB","toggleFocus","zoomOut","zoomIn","setFocusDepth","depth","toggleBarcodeScanning","toggleFaceDetection","takePicture","takePictureAsync","onPictureSaved","handleMountError","message","console","error","photo","moveAsync","from","uri","to","documentDirectory","Date","now","onBarCodeScanned","code","Alert","alert","data","onFacesDetected","onFaceDetectionError","warn","collectPictureSizes","getAvailablePictureSizesAsync","Platform","OS","indexOf","length","previousPictureSize","changePictureSize","nextPictureSize","direction","newId","renderFaces","styles","facesContainer","map","renderFace","renderLandmarks","renderLandmarksOfFace","renderNoPermissions","noPermissions","color","renderTopBar","topBar","toggleButton","autoFocusLabel","renderBottomBar","bottomBar","bottomButton","flex","alignSelf","newPhotosDot","renderMoreOptions","options","detectors","pictureSizeContainer","pictureQualityLabel","pictureSizeChooser","padding","pictureSizeLabel","renderCamera","ref","barCodeTypes","BarCodeType","qr","pdf417","askAsync","CAMERA","status","makeDirectoryAsync","catch","e","log","bind","bounds","faceID","rollAngle","yawAngle","perspective","rotateZ","toFixed","rotateY","face","size","left","origin","x","top","y","faceText","renderLandmark","position","landmark","leftEyePosition","rightEyePosition","leftEarPosition","rightEarPosition","leftCheekPosition","rightCheekPosition","leftMouthPosition","mouthPosition","rightMouthPosition","noseBasePosition","bottomMouthPosition","cameraScreenContent","content","renderGallery","container","Component","StyleSheet","create","backgroundColor","justifyContent","flexDirection","paddingTop","statusBarHeight","paddingBottom","alignItems","gallery","flexWrap","height","marginHorizontal","marginBottom","marginTop","fontSize","fontWeight","right","width","borderRadius","bottom","marginVertical","borderWidth","borderColor","textAlign","margin","row"],"mappings":"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","sourcesContent":["import {\n  Constants,\n  Camera,\n  FileSystem,\n  Permissions,\n  BarCodeScanner,\n} from \"expo\";\nimport React from \"react\";\nimport {\n  Alert,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Slider,\n  Platform,\n} from \"react-native\";\nimport GalleryScreen from \"./GalleryScreen\";\nimport isIPhoneX from \"react-native-is-iphonex\";\n\nimport {\n  Ionicons,\n  MaterialIcons,\n  Foundation,\n  MaterialCommunityIcons,\n  Octicons,\n} from \"@expo/vector-icons\";\n\nconst landmarkSize = 2;\n\nconst flashModeOrder = {\n  off: \"on\",\n  on: \"auto\",\n  auto: \"torch\",\n  torch: \"off\",\n};\n\nconst flashIcons = {\n  off: \"flash-off\",\n  on: \"flash-on\",\n  auto: \"flash-auto\",\n  torch: \"highlight\",\n};\n\nconst wbOrder = {\n  auto: \"sunny\",\n  sunny: \"cloudy\",\n  cloudy: \"shadow\",\n  shadow: \"fluorescent\",\n  fluorescent: \"incandescent\",\n  incandescent: \"auto\",\n};\n\nconst wbIcons = {\n  auto: \"wb-auto\",\n  sunny: \"wb-sunny\",\n  cloudy: \"wb-cloudy\",\n  shadow: \"beach-access\",\n  fluorescent: \"wb-iridescent\",\n  incandescent: \"wb-incandescent\",\n};\n\nexport default class CameraScreen extends React.Component {\n  state = {\n    flash: \"off\",\n    zoom: 0,\n    autoFocus: \"on\",\n    type: \"back\",\n    whiteBalance: \"auto\",\n    ratio: \"16:9\",\n    ratios: [],\n    barcodeScanning: false,\n    faceDetecting: false,\n    faces: [],\n    newPhotos: false,\n    permissionsGranted: false,\n    pictureSize: undefined,\n    pictureSizes: [],\n    pictureSizeId: 0,\n    showGallery: false,\n    showMoreOptions: false,\n  };\n\n  async componentWillMount() {\n    const { status } = await Permissions.askAsync(Permissions.CAMERA);\n    this.setState({ permissionsGranted: status === \"granted\" });\n  }\n\n  componentDidMount() {\n    FileSystem.makeDirectoryAsync(\n      FileSystem.documentDirectory + \"photos\"\n    ).catch((e) => {\n      console.log(e, \"Directory exists\");\n    });\n  }\n\n  getRatios = async () => {\n    const ratios = await this.camera.getSupportedRatios();\n    return ratios;\n  };\n\n  toggleView = () =>\n    this.setState({ showGallery: !this.state.showGallery, newPhotos: false });\n\n  toggleMoreOptions = () =>\n    this.setState({ showMoreOptions: !this.state.showMoreOptions });\n\n  toggleFacing = () =>\n    this.setState({ type: this.state.type === \"back\" ? \"front\" : \"back\" });\n\n  toggleFlash = () =>\n    this.setState({ flash: flashModeOrder[this.state.flash] });\n\n  setRatio = (ratio) => this.setState({ ratio });\n\n  toggleWB = () =>\n    this.setState({ whiteBalance: wbOrder[this.state.whiteBalance] });\n\n  toggleFocus = () =>\n    this.setState({ autoFocus: this.state.autoFocus === \"on\" ? \"off\" : \"on\" });\n\n  zoomOut = () =>\n    this.setState({\n      zoom: this.state.zoom - 0.1 < 0 ? 0 : this.state.zoom - 0.1,\n    });\n\n  zoomIn = () =>\n    this.setState({\n      zoom: this.state.zoom + 0.1 > 1 ? 1 : this.state.zoom + 0.1,\n    });\n\n  setFocusDepth = (depth) => this.setState({ depth });\n\n  toggleBarcodeScanning = () =>\n    this.setState({ barcodeScanning: !this.state.barcodeScanning });\n\n  toggleFaceDetection = () =>\n    this.setState({ faceDetecting: !this.state.faceDetecting });\n\n  takePicture = () => {\n    if (this.camera) {\n      this.camera.takePictureAsync({ onPictureSaved: this.onPictureSaved });\n    }\n  };\n\n  handleMountError = ({ message }) => console.error(message);\n\n  onPictureSaved = async (photo) => {\n    await FileSystem.moveAsync({\n      from: photo.uri,\n      to: `${FileSystem.documentDirectory}photos/${Date.now()}.jpg`,\n    });\n    this.setState({ newPhotos: true });\n  };\n\n  onBarCodeScanned = (code) => {\n    this.setState(\n      { barcodeScanning: !this.state.barcodeScanning },\n      Alert.alert(`Barcode found: ${code.data}`)\n    );\n  };\n\n  onFacesDetected = ({ faces }) => this.setState({ faces });\n  onFaceDetectionError = (state) =>\n    console.warn(\"Faces detection error:\", state);\n\n  collectPictureSizes = async () => {\n    if (this.camera) {\n      const pictureSizes = await this.camera.getAvailablePictureSizesAsync(\n        this.state.ratio\n      );\n      let pictureSizeId = 0;\n      if (Platform.OS === \"ios\") {\n        pictureSizeId = pictureSizes.indexOf(\"High\");\n      } else {\n        // returned array is sorted in ascending order - default size is the largest one\n        pictureSizeId = pictureSizes.length - 1;\n      }\n      this.setState({\n        pictureSizes,\n        pictureSizeId,\n        pictureSize: pictureSizes[pictureSizeId],\n      });\n    }\n  };\n\n  previousPictureSize = () => this.changePictureSize(1);\n  nextPictureSize = () => this.changePictureSize(-1);\n\n  changePictureSize = (direction) => {\n    let newId = this.state.pictureSizeId + direction;\n    const length = this.state.pictureSizes.length;\n    if (newId >= length) {\n      newId = 0;\n    } else if (newId < 0) {\n      newId = length - 1;\n    }\n    this.setState({\n      pictureSize: this.state.pictureSizes[newId],\n      pictureSizeId: newId,\n    });\n  };\n\n  renderGallery() {\n    return <GalleryScreen onPress={this.toggleView.bind(this)} />;\n  }\n\n  renderFace({ bounds, faceID, rollAngle, yawAngle }) {\n    return (\n      <View\n        key={faceID}\n        transform={[\n          { perspective: 600 },\n          { rotateZ: `${rollAngle.toFixed(0)}deg` },\n          { rotateY: `${yawAngle.toFixed(0)}deg` },\n        ]}\n        style={[\n          styles.face,\n          {\n            ...bounds.size,\n            left: bounds.origin.x,\n            top: bounds.origin.y,\n          },\n        ]}\n      >\n        <Text style={styles.faceText}>ID: {faceID}</Text>\n        <Text style={styles.faceText}>rollAngle: {rollAngle.toFixed(0)}</Text>\n        <Text style={styles.faceText}>yawAngle: {yawAngle.toFixed(0)}</Text>\n      </View>\n    );\n  }\n\n  renderLandmarksOfFace(face) {\n    const renderLandmark = (position) =>\n      position && (\n        <View\n          style={[\n            styles.landmark,\n            {\n              left: position.x - landmarkSize / 2,\n              top: position.y - landmarkSize / 2,\n            },\n          ]}\n        />\n      );\n    return (\n      <View key={`landmarks-${face.faceID}`}>\n        {renderLandmark(face.leftEyePosition)}\n        {renderLandmark(face.rightEyePosition)}\n        {renderLandmark(face.leftEarPosition)}\n        {renderLandmark(face.rightEarPosition)}\n        {renderLandmark(face.leftCheekPosition)}\n        {renderLandmark(face.rightCheekPosition)}\n        {renderLandmark(face.leftMouthPosition)}\n        {renderLandmark(face.mouthPosition)}\n        {renderLandmark(face.rightMouthPosition)}\n        {renderLandmark(face.noseBasePosition)}\n        {renderLandmark(face.bottomMouthPosition)}\n      </View>\n    );\n  }\n\n  renderFaces = () => (\n    <View style={styles.facesContainer} pointerEvents=\"none\">\n      {this.state.faces.map(this.renderFace)}\n    </View>\n  );\n\n  renderLandmarks = () => (\n    <View style={styles.facesContainer} pointerEvents=\"none\">\n      {this.state.faces.map(this.renderLandmarksOfFace)}\n    </View>\n  );\n\n  renderNoPermissions = () => (\n    <View style={styles.noPermissions}>\n      <Text style={{ color: \"white\" }}>\n        Camera permissions not granted - cannot open camera preview.\n      </Text>\n    </View>\n  );\n\n  renderTopBar = () => (\n    <View style={styles.topBar}>\n      <TouchableOpacity style={styles.toggleButton} onPress={this.toggleFacing}>\n        <Ionicons name=\"ios-reverse-camera\" size={32} color=\"white\" />\n      </TouchableOpacity>\n      <TouchableOpacity style={styles.toggleButton} onPress={this.toggleFlash}>\n        <MaterialIcons\n          name={flashIcons[this.state.flash]}\n          size={32}\n          color=\"white\"\n        />\n      </TouchableOpacity>\n      <TouchableOpacity style={styles.toggleButton} onPress={this.toggleWB}>\n        <MaterialIcons\n          name={wbIcons[this.state.whiteBalance]}\n          size={32}\n          color=\"white\"\n        />\n      </TouchableOpacity>\n      <TouchableOpacity style={styles.toggleButton} onPress={this.toggleFocus}>\n        <Text\n          style={[\n            styles.autoFocusLabel,\n            { color: this.state.autoFocus === \"on\" ? \"white\" : \"#6b6b6b\" },\n          ]}\n        >\n          AF\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n\n  renderBottomBar = () => (\n    <View style={styles.bottomBar}>\n      <TouchableOpacity\n        style={styles.bottomButton}\n        onPress={this.toggleMoreOptions}\n      >\n        <Octicons name=\"kebab-horizontal\" size={30} color=\"white\" />\n      </TouchableOpacity>\n      <View style={{ flex: 0.4 }}>\n        <TouchableOpacity\n          onPress={this.takePicture}\n          style={{ alignSelf: \"center\" }}\n        >\n          <Ionicons name=\"ios-radio-button-on\" size={70} color=\"white\" />\n        </TouchableOpacity>\n      </View>\n      <TouchableOpacity style={styles.bottomButton} onPress={this.toggleView}>\n        <View>\n          <Foundation name=\"thumbnails\" size={30} color=\"white\" />\n          {this.state.newPhotos && <View style={styles.newPhotosDot} />}\n        </View>\n      </TouchableOpacity>\n    </View>\n  );\n\n  renderMoreOptions = () => (\n    <View style={styles.options}>\n      <View style={styles.detectors}>\n        <TouchableOpacity onPress={this.toggleFaceDetection}>\n          <MaterialIcons\n            name=\"tag-faces\"\n            size={32}\n            color={this.state.faceDetecting ? \"white\" : \"#858585\"}\n          />\n        </TouchableOpacity>\n        <TouchableOpacity onPress={this.toggleBarcodeScanning}>\n          <MaterialCommunityIcons\n            name=\"barcode-scan\"\n            size={32}\n            color={this.state.barcodeScanning ? \"white\" : \"#858585\"}\n          />\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.pictureSizeContainer}>\n        <Text style={styles.pictureQualityLabel}>Picture quality</Text>\n        <View style={styles.pictureSizeChooser}>\n          <TouchableOpacity\n            onPress={this.previousPictureSize}\n            style={{ padding: 6 }}\n          >\n            <Ionicons name=\"md-arrow-dropleft\" size={14} color=\"white\" />\n          </TouchableOpacity>\n          <View style={styles.pictureSizeLabel}>\n            <Text style={{ color: \"white\" }}>{this.state.pictureSize}</Text>\n          </View>\n          <TouchableOpacity\n            onPress={this.nextPictureSize}\n            style={{ padding: 6 }}\n          >\n            <Ionicons name=\"md-arrow-dropright\" size={14} color=\"white\" />\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n\n  renderCamera = () => (\n    <View style={{ flex: 1 }}>\n      <Camera\n        ref={(ref) => {\n          this.camera = ref;\n        }}\n        style={styles.camera}\n        onCameraReady={this.collectPictureSizes}\n        type={this.state.type}\n        flashMode={this.state.flash}\n        autoFocus={this.state.autoFocus}\n        zoom={this.state.zoom}\n        whiteBalance={this.state.whiteBalance}\n        ratio={this.state.ratio}\n        pictureSize={this.state.pictureSize}\n        onMountError={this.handleMountError}\n        onFacesDetected={\n          this.state.faceDetecting ? this.onFacesDetected : undefined\n        }\n        onFaceDetectionError={this.onFaceDetectionError}\n        barCodeScannerSettings={{\n          barCodeTypes: [\n            BarCodeScanner.Constants.BarCodeType.qr,\n            BarCodeScanner.Constants.BarCodeType.pdf417,\n          ],\n        }}\n        onBarCodeScanned={\n          this.state.barcodeScanning ? this.onBarCodeScanned : undefined\n        }\n      >\n        {this.renderTopBar()}\n        {this.renderBottomBar()}\n      </Camera>\n      {this.state.faceDetecting && this.renderFaces()}\n      {this.state.faceDetecting && this.renderLandmarks()}\n      {this.state.showMoreOptions && this.renderMoreOptions()}\n    </View>\n  );\n\n  render() {\n    const cameraScreenContent = this.state.permissionsGranted\n      ? this.renderCamera()\n      : this.renderNoPermissions();\n    const content = this.state.showGallery\n      ? this.renderGallery()\n      : cameraScreenContent;\n    return <View style={styles.container}>{content}</View>;\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#000\",\n  },\n  camera: {\n    flex: 1,\n    justifyContent: \"space-between\",\n  },\n  topBar: {\n    flex: 0.2,\n    backgroundColor: \"transparent\",\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    paddingTop: Constants.statusBarHeight / 2,\n  },\n  bottomBar: {\n    paddingBottom: isIPhoneX ? 25 : 5,\n    backgroundColor: \"transparent\",\n    alignSelf: \"flex-end\",\n    justifyContent: \"space-between\",\n    flex: 0.12,\n    flexDirection: \"row\",\n  },\n  noPermissions: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 10,\n  },\n  gallery: {\n    flex: 1,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n  },\n  toggleButton: {\n    flex: 0.25,\n    height: 40,\n    marginHorizontal: 2,\n    marginBottom: 10,\n    marginTop: 20,\n    padding: 5,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  autoFocusLabel: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n  },\n  bottomButton: {\n    flex: 0.3,\n    height: 58,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  newPhotosDot: {\n    position: \"absolute\",\n    top: 0,\n    right: -5,\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: \"#4630EB\",\n  },\n  options: {\n    position: \"absolute\",\n    bottom: 80,\n    left: 30,\n    width: 200,\n    height: 160,\n    backgroundColor: \"#000000BA\",\n    borderRadius: 4,\n    padding: 10,\n  },\n  detectors: {\n    flex: 0.5,\n    justifyContent: \"space-around\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n  },\n  pictureQualityLabel: {\n    fontSize: 10,\n    marginVertical: 3,\n    color: \"white\",\n  },\n  pictureSizeContainer: {\n    flex: 0.5,\n    alignItems: \"center\",\n    paddingTop: 10,\n  },\n  pictureSizeChooser: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    flexDirection: \"row\",\n  },\n  pictureSizeLabel: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  facesContainer: {\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    left: 0,\n    top: 0,\n  },\n  face: {\n    padding: 10,\n    borderWidth: 2,\n    borderRadius: 2,\n    position: \"absolute\",\n    borderColor: \"#FFD700\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  },\n  landmark: {\n    width: landmarkSize,\n    height: landmarkSize,\n    position: \"absolute\",\n    backgroundColor: \"red\",\n  },\n  faceText: {\n    color: \"#FFD700\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    margin: 10,\n    backgroundColor: \"transparent\",\n  },\n  row: {\n    flexDirection: \"row\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}